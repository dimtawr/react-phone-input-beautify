"use client";"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("react/jsx-runtime"),n=require("react"),T=require("../use-phone-state/use-phone-state.cjs"),d=require("./phone-input-dialog.cjs"),l=require("./phone-input-item.cjs"),g=require("./phone-input-number-input.cjs"),W=require("./phone-input-portal.cjs"),j=require("./phone-input-provider.cjs"),b=require("./phone-input-trigger.cjs"),v=require("./phone-input-wrapper.cjs");function y(t,o){const{numberInputProps:c}=g.usePhoneInputNumberInput(),{getListItemProps:a}=l.usePhoneInputItem({selected:o.country}),{triggerProps:i}=b.usePhoneInputTrigger({open:t.isDialogOpen}),{phoneInputDialogProps:r}=d.usePhoneInputDialog({open:t.isDialogOpen});return{getListItemProps:a,numberInputProps:c,phoneInputDialogProps:r,triggerProps:i}}function C(t){const{children:o,initialCountry:c,initialPhoneNumber:a,onCountryChange:i,onPhoneChange:r,onValidationChange:I,...N}=t,e=T.usePhoneState({initialCountry:c,initialPhoneNumber:a}),[p,O]=n.useState(!1),q=y({isDialogOpen:p},e),[u,P]=n.useState();n.useEffect(()=>{i&&i(e.country)},[t,e.country]);const D=n.useMemo(()=>({isDialogOpen:p,onOpenChange:u,setIsDialogOpen:O,setOnOpenChange:P}),[p,u]);n.useEffect(()=>{u&&P(u)},[u]),n.useEffect(()=>{I&&I(e.isValid)},[I,e.isValid]),n.useEffect(()=>{r&&e.phoneNumber&&r(e.phoneNumber)},[r,e.phoneNumber]);const m=(s,h)=>{if(typeof s=="function"){const E=s({country:e.country,countryList:e.countryList,onPhoneChange:R=>e.handlePhoneNumberChange(R.target.value),open:p,phone:e.phoneNumber??""});return n.cloneElement(E,{key:h})}return n.cloneElement(s,{key:h})},S=Array.isArray(o)?o.map((s,h)=>m(s,h)):m(o);return f.jsx(j.PhoneInputContextProvider,{dialog:D,props:q,state:e,children:f.jsx(v.PhoneInputWrapper,{...N,children:S})})}const x={Dialog:d.PhoneInputDialog,Item:l.PhoneInputItem,ItemWithForm:l.PhoneInputItemWithForm,NumberInput:g.PhoneInputNumberInput,NumberInputWithForm:g.default,Portal:W,Root:C,Trigger:b.PhoneInputTrigger};exports.PhoneInput=x;exports.PhoneInputRoot=C;exports.usePhone=y;
