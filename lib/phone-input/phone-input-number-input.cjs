"use client";"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const m=require("react/jsx-runtime"),N=require("clsx"),a=require("react"),C=require("react-hook-form"),R=require("./phone-input.module.scss.cjs"),P=require("./phone-input-provider.cjs"),I=a.forwardRef((n,u)=>{const{props:c,state:l}=P.usePhoneInput(),{className:f,...g}=n,h=a.useRef(null);a.useEffect(()=>{typeof u=="function"?u(h.current):u&&(u.current=h.current)},[u]);const d=(r,e,s)=>{const p=r.slice(0,s).replace(/\D/g,"").length;let t=0,i=0;for(let o=0;o<e.length&&(/\d/.test(e[o])&&i++,!(i>p));o++)t=o+1;return e.length>r.length&&e[s]===" "&&(t=Math.max(0,t-1)),t},b=r=>{var i;const e=r.target,s=e.selectionStart,p=e.value,t=l.handlePhoneNumberChange(e.value);if(t!==null&&(e.value=t,s!==null)){const o=d(p,t,s);e.setSelectionRange(o,o)}(i=n.onChange)==null||i.call(n,r)};return m.jsx("input",{...g,...c.numberInputProps,className:N(c.numberInputProps.className,f),onChange:b,ref:h})});function q(n){const{field:{ref:u,...c},formState:l}=C.useController(n),{state:f}=P.usePhoneInput();return a.useEffect(()=>{l.isDirty||f.handlePhoneNumberChange("")},[l.isDirty]),m.jsx(I,{...n,...c,ref:u})}function v(){return{numberInputProps:{className:R.default.phoneInputNumberInput,type:"tel"}}}exports.PhoneInputNumberInput=I;exports.default=q;exports.usePhoneInputNumberInput=v;
